
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@using Microsoft.AspNetCore.Http;
@model dynamic;
<head>
    <link rel="stylesheet" href="~/css/ProfilePage.css" />
    <script src="~/ckeditor/ckeditor.js"></script>
    <script src="/ckfinder/ckfinder.js"></script>
</head>
<body>
    <div class="container">
        <div class="main">
            <div class="main-container">
                <div class="profile">
                    <div class="profile-avatar">
                        <div class="position-relative">
                            <img src="@Model.User.AvatarURL.ToString()" alt="" class="profile-img" />
                            <form asp-controller="ProfilePage" asp-action="UploadAvatar" method="post" id="form" enctype="multipart/form-data">
                                <input type="file" id="file" style="" name="avatar" onchange="this.form.submit()" hidden />
                                <label for="file" class="btn btn-outline-dark position-absolute translate-middle badge border border-light rounded-circle" style="left: 75%; top:75%">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-camera" viewBox="0 0 16 16">
                                        <path d="M15 12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h1.172a3 3 0 0 0 2.12-.879l.83-.828A1 1 0 0 1 6.827 3h2.344a1 1 0 0 1 .707.293l.828.828A3 3 0 0 0 12.828 5H14a1 1 0 0 1 1 1v6zM2 4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2h-1.172a2 2 0 0 1-1.414-.586l-.828-.828A2 2 0 0 0 9.172 2H6.828a2 2 0 0 0-1.414.586l-.828.828A2 2 0 0 1 3.172 4H2z" />
                                        <path d="M8 11a2.5 2.5 0 1 1 0-5 2.5 2.5 0 0 1 0 5zm0 1a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7zM3 6.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0z" />
                                    </svg>
                                </label>
                            </form>
                        </div>
                        <div class="profile-name">@Model.User.name</div>
                    </div>
                    <img src="https://images.unsplash.com/photo-1508247967583-7d982ea01526?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2250&q=80" alt="" class="profile-cover">

                    <div class="profile-menu">
                        <button class="profile-menu-link active">Bài viết</button>
                        <button class="profile-menu-link">Thông tin</button>
                        <button class="profile-menu-link">Danh sách bạn bè</button>
                    </div>
                </div>
                <div class="timeline">
                    <div class="timeline-right">
                        <div class="status box">
                            @*<div class="status-menu">
                                    <a class="status-menu-item active" href="#">Status</a>
                                    <a class="status-menu-item" href="#">Photos</a>
                                    <a class="status-menu-item" href="#">Videos</a>
                                </div>*@
                            @if (Context.Session.GetString("email") == Model.User.EmailAddress)
                            {
                                <form asp-controller="Post" asp-action="Create" method="post">
                                    <div class="status-main">
                                        <div class="row mt-2 w-100">
                                            <div class="col-1">
                                                <img src="@Model.User.AvatarURL.ToString()" class="status-img">
                                            </div>
                                            <div class="col">
                                                <label for="input-title" class="my-2" style="color:#1f1c2e ">Tiêu đề</label>
                                                <input id="input-title" name="Title" class="form-control my-2" />
                                                <textarea class="status-textarea" placeholder="Hãy viết gì đó.." id="editor1" name="Content"></textarea>
                                                <label for="input-privacy" style="color:#1f1c2e " class="my-2">Quyền riêng tư</label>
                                                <select class="form-control" name="Privacy" id="input-privacy">
                                                    <option value="Public">Công khai</option>
                                                    <option value="Friend">Bạn bè</option>
                                                    <option value="OnlyMe">Chỉ mình tôi</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="status-actions">
                                        @*<a href="#" class="status-action">
                                                <svg viewBox="-42 0 512 512" xmlns="http://www.w3.org/2000/svg">
                                                    <path d="M333.7 123.3c0 33.9-12.2 63.2-36.2 87.2-24 24-53.3 36.1-87.1 36.1h-.1c-33.9 0-63.2-12.1-87.1-36.1-24-24-36.2-53.3-36.2-87.2 0-33.9 12.2-63.2 36.2-87.2 24-24 53.2-36 87-36.1h.2c33.8 0 63.2 12.2 87.1 36.1 24 24 36.2 53.3 36.2 87.2zm0 0" fill="#ffbb85" />
                                                    <path d="M427.2 424c0 26.7-8.5 48.3-25.3 64.3-16.5 15.7-38.4 23.7-65 23.7H90.2c-26.6 0-48.5-8-65-23.7C8.5 472.3 0 450.7 0 423.9c0-10.2.3-20.4 1-30.2a302.7 302.7 0 0112.1-64.9c3.3-10.3 7.8-20.5 13.4-30.3 5.8-10.2 12.5-19 20.1-26.3a89 89 0 0129-18.2c11.2-4.4 23.7-6.7 37-6.7 5.2 0 10.3 2.2 20 8.5l21 13.5c6.6 4.3 15.7 8.3 27 11.9a107.7 107.7 0 0033 5.3c11 0 22-1.8 33-5.3 11.2-3.6 20.3-7.6 27-12l21-13.4c9.7-6.3 14.7-8.5 20-8.5 13.3 0 25.7 2.3 37 6.7a89 89 0 0128.9 18.2c7.6 7.3 14.4 16.1 20.2 26.3 5.5 9.8 10 20 13.3 30.3a305.5 305.5 0 0112.1 64.9c.7 9.8 1 20 1 30.2zm0 0" fill="#6aa9ff" />
                                                    <path d="M210.4 246.6h-.1V0c34 0 63.3 12.2 87.2 36.1 24 24 36.2 53.3 36.2 87.2 0 33.9-12.2 63.2-36.2 87.2-24 24-53.3 36.1-87.1 36.1zm0 0" fill="#f5a86c" />
                                                    <path d="M427.2 424c0 26.7-8.5 48.3-25.3 64.3-16.5 15.7-38.4 23.7-65 23.7H210.2V286.5h3.3c11 0 22-1.8 33-5.3 11.2-3.6 20.3-7.6 27-12l21-13.4c9.7-6.3 14.7-8.5 20-8.5 13.3 0 25.7 2.3 37 6.7a89 89 0 0128.9 18.2c7.6 7.3 14.4 16.1 20.2 26.3 5.5 9.8 10 20 13.3 30.3a305.5 305.5 0 0112.1 64.9c.7 9.8 1 20 1 30.2zm0 0" fill="#2682ff" />
                                                </svg>
                                                People
                                            </a>
                                            <a href="#" class="status-action">
                                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                                                    <path d="M87.084 192c-.456-5.272-.688-10.6-.688-16C86.404 78.8 162.34 0 256.004 0s169.6 78.8 169.6 176c0 5.392-.232 10.728-.688 16h.688c0 96.184-169.6 320-169.6 320s-169.6-223.288-169.6-320h.68zm168.92 32c36.392 1.024 66.744-27.608 67.84-64-1.096-36.392-31.448-65.024-67.84-64-36.392-1.024-66.744 27.608-67.84 64 1.096 36.392 31.448 65.024 67.84 64z" fill="#e21b1b" />
                                                </svg>
                                                Check in
                                            </a>
                                            <a href="#" class="status-action">
                                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                                                    <circle cx="256" cy="256" r="256" fill="#ffca28" />
                                                    <g fill="#6d4c41">
                                                        <path d="M399.68 208.32c-8.832 0-16-7.168-16-16 0-17.632-14.336-32-32-32s-32 14.368-32 32c0 8.832-7.168 16-16 16s-16-7.168-16-16c0-35.296 28.704-64 64-64s64 28.704 64 64c0 8.864-7.168 16-16 16zM207.68 208.32c-8.832 0-16-7.168-16-16 0-17.632-14.368-32-32-32s-32 14.368-32 32c0 8.832-7.168 16-16 16s-16-7.168-16-16c0-35.296 28.704-64 64-64s64 28.704 64 64c0 8.864-7.168 16-16 16z" />
                                                    </g>
                                                    <path d="M437.696 294.688c-3.04-4-7.744-6.368-12.736-6.368H86.4c-5.024 0-9.728 2.336-12.736 6.336-3.072 4.032-4.032 9.184-2.688 14.016C94.112 390.88 170.08 448.32 255.648 448.32s161.536-57.44 184.672-139.648c1.376-4.832.416-9.984-2.624-13.984z" fill="#fafafa" />
                                                </svg>
                                                Mood
                                            </a>*@
                                        <button type="submit" class="status-share">Đăng</button>
                                    </div>
                                </form>
                            }
                        </div>
                        @foreach (var post in Model.Posts)
                        {
                            <div class="album box">
                                <div class="status-main">
                                    <img src="@Model.User.AvatarURL.ToString()" class="status-img" />
                                    <div class="album-detail">
                                        <div class="album-title"><strong>@Model.User.name</strong> đã đăng <span>bài viết</span></div>
                                        <div class="album-date">@post.GetType().GetProperty("TimeCreate").GetValue(post, null)</div>
                                    </div>
                                    <button class="intro-menu"></button>
                                </div>
                                <div class="album-content">
                                    <h3 class="text-center">@Html.Raw(post.GetType().GetProperty("Title").GetValue(post, null))</h3>
                                    @Html.Raw(post.GetType().GetProperty("Content").GetValue(post, null))
                                    @*<div class="album-photos">
                                            <img src="https://images.unsplash.com/photo-1508179719682-dbc62681c355?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2378&q=80" alt="" class="album-photo" />
                                            <div class="album-right">
                                                <img src="https://images.unsplash.com/photo-1502872364588-894d7d6ddfab?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2250&q=80" alt="" class="album-photo" />
                                                <img src="https://images.unsplash.com/photo-1566737236500-c8ac43014a67?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1950&q=80" alt="" class="album-photo" />
                                            </div>
                                        </div>*@
                                </div>
                                <div class="album-actions">
                                    <a href="#" class="album-action">
                                        <svg stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24">
                                            <path d="M20.84 4.61a5.5 5.5 0 00-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 00-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 000-7.78z" />
                                        </svg>
                                        @post.GetType().GetProperty("Like").GetValue(post, null)
                                    </a>
                                    <a href="#" class="album-action">
                                        <svg stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1" viewBox="0 0 24 24">
                                            <path d="M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z" />
                                        </svg>
                                        @post.GetType().GetProperty("Comment").GetValue(post, null)
                                    </a>
                                    <a href="#" class="album-action">
                                        <svg stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1" viewBox="0 0 24 24">
                                            <path d="M17 1l4 4-4 4" />
                                            <path d="M3 11V9a4 4 0 014-4h14M7 23l-4-4 4-4" />
                                            <path d="M21 13v2a4 4 0 01-4 4H3" />
                                        </svg>
                                        @post.GetType().GetProperty("Share").GetValue(post, null)
                                    </a>
                                </div>
                            </div>
                        }
                    </div>
                </div>
            </div>
        </div>
        <div class="right-side">
            <div class="side-wrapper contacts">
                <div class="side-title">Liên hệ</div>
                <div class="user">
                    <img src="https://randomuser.me/api/portraits/men/1.jpg" class="user-img">
                    <div class="username">
                        Andrei Mashrin
                        <div class="user-status"></div>
                    </div>
                </div>
                <div class="user">
                    <img src="https://images.unsplash.com/photo-1438761681033-6461ffad8d80?ixlib=rb-0.3.5&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=200&fit=max&s=046c29138c1335ef8edee7daf521ba50" class="user-img">
                    <div class="username">
                        Aryn Jacobssen
                        <div class="user-status offline"></div>
                    </div>
                </div>
                <div class="user">
                    <img src="https://images.unsplash.com/photo-1575084713138-342cae5f8d00?ixlib=rb-1.2.1&auto=format&fit=crop&w=958&q=80" class="user-img">
                    <div class="username">
                        Carole Landu
                        <div class="user-status offline"></div>
                    </div>
                </div>
                <div class="user">
                    <img src="https://images.pexels.com/photos/598745/pexels-photo-598745.jpeg?h=350&auto=compress&cs=tinysrgb" class="user-img">
                    <div class="username">
                        Chineze Afa
                        <div class="user-status"></div>
                    </div>
                </div>
                <div class="user">
                    <img src="https://pbs.twimg.com/profile_images/2452384114/noplz47r59v1uxvyg8ku.png" class="user-img">
                    <div class="username">
                        Mok Kwang
                        <div class="user-status"></div>
                    </div>
                </div>
                <div class="user">
                    <img src="https://randomuser.me/api/portraits/women/63.jpg" class="user-img">
                    <div class="username">
                        Naomi Yepes
                        <div class="user-status"></div>
                    </div>
                </div>
                <div class="user">
                    <img src="https://images.unsplash.com/photo-1476493279419-b785d41e38d8?ixlib=rb-0.3.5&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=200&fit=max&s=61eaea85f1aa3d065400179c78163f15" class="user-img">
                    <div class="username">
                        Shaamikh Ale
                        <div class="user-status"></div>
                    </div>
                </div>
                <div class="user">
                    <!-- <img src='https://m.media-amazon.com/images/M/MV5BMjI4NDcyNjQxNl5BMl5BanBnXkFtZTgwMzI4OTM3NjM._V1_UY256_CR13,0,172,256_AL_.jpg' class="user-img"> -->
                    <div class="username">
                        Sofia Alcocer
                        <div class="user-status idle"></div>
                    </div>
                </div>
                <div class="user">
                    <img src="https://images.unsplash.com/photo-1509380836717-c4320ccf1a6f?ixlib=rb-0.3.5&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=200&fit=max&s=e01c8c45a063daaf6d6e571a32bd6c90" class="user-img">
                    <div class="username">
                        Wen Yahui
                        <div class="user-status"></div>
                    </div>
                </div>
                <div class="user">
                    <img src="https://pbs.twimg.com/profile_images/737221709267374081/sdwta9Oh.jpg" alt="" class="user-img">
                    <div class="username">
                        Leslee Moss
                        <div class="user-status idle"></div>
                    </div>
                </div>
            </div>
        </div>
        <div class="overlay"></div>
    </div>
    <script>
        var editor = CKEDITOR.replace('editor1', {
            height: 400,
            filebrowserUploadUrl: '/Post/UploadCKEditor',
            filebrowserBrowseUrl: '/Post/BrowseCKEditor'
        });
    </script>

</body>